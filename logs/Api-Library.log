2025-09-09 20:21:47,391 INFO o.h.v.i.u.Version {<clinit>} [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-09-09 20:21:47,469 INFO o.s.b.StartupInfoLogger {logStarting} [main] Starting ApiLibraryApplication using Java 21.0.5 with PID 25108 (C:\Users\tatia\IdeaProjects\Api_Library\target\classes started by tatia in C:\Users\tatia\IdeaProjects\Api_Library)
2025-09-09 20:21:47,470 INFO o.s.b.SpringApplication {logStartupProfileInfo} [main] No active profile set, falling back to 1 default profile: "default"
2025-09-09 20:21:48,348 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-09 20:21:48,426 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2025-09-09 20:21:49,012 INFO o.s.b.w.e.t.TomcatWebServer {initialize} [main] Tomcat initialized with port 8082 (http)
2025-09-09 20:21:49,027 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-09-09 20:21:49,031 INFO o.a.j.l.DirectJDKLog {log} [main] Starting service [Tomcat]
2025-09-09 20:21:49,031 INFO o.a.j.l.DirectJDKLog {log} [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-09-09 20:21:49,109 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing Spring embedded WebApplicationContext
2025-09-09 20:21:49,111 INFO o.s.b.w.s.c.ServletWebServerApplicationContext {prepareWebApplicationContext} [main] Root WebApplicationContext: initialization completed in 1590 ms
2025-09-09 20:21:49,252 INFO o.h.j.i.u.LogHelper {logPersistenceUnitInformation} [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-09 20:21:49,324 INFO o.h.Version {logVersion} [main] HHH000412: Hibernate ORM core version 6.6.8.Final
2025-09-09 20:21:49,367 INFO o.h.c.i.RegionFactoryInitiator {initiateService} [main] HHH000026: Second-level cache disabled
2025-09-09 20:21:49,677 INFO o.s.o.j.p.SpringPersistenceUnitInfo {addTransformer} [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-09 20:21:49,711 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Starting...
2025-09-09 20:21:49,952 INFO c.z.h.p.HikariPool {checkFailFast} [main] HikariPool-1 - Added connection conn0: url=jdbc:h2:file:~/api_library.db user=SA
2025-09-09 20:21:49,954 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Start completed.
2025-09-09 20:21:49,982 WARN o.h.e.j.d.i.DialectFactoryImpl {constructDialect} [main] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-09 20:21:50,003 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator {initiateService} [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-09 20:21:51,063 INFO o.h.e.t.j.p.i.JtaPlatformInitiator {initiateService} [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-09 20:21:51,132 INFO o.s.o.j.AbstractEntityManagerFactoryBean {buildNativeEntityManagerFactory} [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-09 20:21:51,409 INFO o.s.d.j.r.q.QueryEnhancerFactory {<clinit>} [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-09 20:21:51,527 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer {configure} [main] Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-09-09 20:21:52,424 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration {openEntityManagerInViewInterceptor} [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-09 20:21:52,892 INFO o.s.b.a.h.H2ConsoleAutoConfiguration$H2ConsoleLogger {log} [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/api_library.db'
2025-09-09 20:21:52,967 INFO o.a.j.l.DirectJDKLog {log} [main] Starting ProtocolHandler ["http-nio-8082"]
2025-09-09 20:21:52,994 INFO o.s.b.w.e.t.TomcatWebServer {start} [main] Tomcat started on port 8082 (http) with context path '/'
2025-09-09 20:21:53,002 INFO o.s.b.StartupInfoLogger {logStarted} [main] Started ApiLibraryApplication in 6.21 seconds (process running for 6.622)
2025-09-09 20:22:36,739 INFO o.a.j.l.DirectJDKLog {log} [http-nio-8082-exec-4] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-09 20:22:36,740 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-4] Initializing Servlet 'dispatcherServlet'
2025-09-09 20:22:36,742 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-4] Completed initialization in 2 ms
2025-09-09 20:23:09,320 INFO c.s.A.c.BookController {getAllBooks} [http-nio-8082-exec-7] Fetching all books
2025-09-09 20:27:35,567 INFO c.s.A.c.BookController {addBook} [http-nio-8082-exec-6] Adding new book: La leyenda de Alcubilla 
2025-09-09 20:27:35,609 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-6] SQL Error: 23506, SQLState: 23506
2025-09-09 20:27:35,611 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-6] Violación de una restricción de Integridad Referencial: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"
Referential integrity constraint violation: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"; SQL statement:
insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default) [23506-232]
2025-09-09 20:27:35,621 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-6] Error de integridad en BD: could not execute statement [Violación de una restricción de Integridad Referencial: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"
Referential integrity constraint violation: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"; SQL statement:
insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default) [23506-232]] [insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default)]; SQL [insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default)]; constraint [K1pmkh9kwdj39qau0b94mdea9h]
2025-09-09 20:28:15,414 INFO c.s.A.c.BookController {addBook} [http-nio-8082-exec-8] Adding new book: La noche estrellada
2025-09-09 20:28:15,417 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] SQL Error: 23506, SQLState: 23506
2025-09-09 20:28:15,417 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] Violación de una restricción de Integridad Referencial: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"
Referential integrity constraint violation: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"; SQL statement:
insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default) [23506-232]
2025-09-09 20:28:15,418 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-8] Error de integridad en BD: could not execute statement [Violación de una restricción de Integridad Referencial: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"
Referential integrity constraint violation: "FK1pmkh9kwdj39qau0b94mdea9h: PUBLIC.books FOREIGN KEY(category_id) REFERENCES PUBLIC.book_categories(id) (CAST(4 AS BIGINT))"; SQL statement:
insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default) [23506-232]] [insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default)]; SQL [insert into "books" ("author_id","available","category_id","genre","pages","price","title","id") values (?,?,?,?,?,?,?,default)]; constraint [K1pmkh9kwdj39qau0b94mdea9h]
2025-09-09 21:40:13,317 INFO c.s.A.c.BookCategoryController {getAllBookCategories} [http-nio-8082-exec-10] Fetching all book categories
2025-09-09 21:40:27,304 INFO c.s.A.c.BookController {addBook} [http-nio-8082-exec-1] Adding new book: La noche estrellada
2025-09-09 21:43:46,736 INFO c.s.A.c.BookController {getBookById} [http-nio-8082-exec-7] Fetching book by ID: 4
2025-09-09 21:45:25,757 INFO c.s.A.c.BookController {getBooksByTitle} [http-nio-8082-exec-3] Fetching books by title: Alice
2025-09-09 21:48:14,573 INFO c.s.A.c.BookController {getBooksByGenre} [http-nio-8082-exec-10] Fetching books by genre: Aventura
2025-09-09 21:49:26,252 INFO c.s.A.c.BookController {getBooksByTitle} [http-nio-8082-exec-9] Fetching books by title: Alicia
2025-09-09 21:49:41,226 INFO c.s.A.c.BookController {getBooksByTitle} [http-nio-8082-exec-7] Fetching books by title: Alicia
2025-09-09 21:49:53,676 INFO c.s.A.c.BookController {getBooksByTitle} [http-nio-8082-exec-5] Fetching books by title: Alicia
2025-09-09 21:50:22,045 INFO c.s.A.c.BookController {getBooksByTitle} [http-nio-8082-exec-6] Fetching books by title: Alicia
2025-09-09 21:50:59,940 ERROR c.s.A.e.GlobalExceptionHandler {handleGeneralException} [http-nio-8082-exec-3] Error 500 inesperado
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "pages"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:226)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.svalero.Api_Library.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.svalero.Api_Library.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NumberFormatException: For input string: "pages"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:709)
	at java.base/java.lang.Long.valueOf(Long.java:1157)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:204)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:870)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293)
	... 102 common frames omitted
2025-09-09 21:56:03,577 INFO c.s.A.c.BookController {getBooksByTitle} [http-nio-8082-exec-8] Fetching books by title: Alicia 
2025-09-09 22:04:01,843 INFO c.s.A.c.BookController {getBooksWithPagesGreaterThan} [http-nio-8082-exec-1] Fetching books with more than 10 pages
2025-09-09 22:04:49,499 ERROR c.s.A.e.GlobalExceptionHandler {handleGeneralException} [http-nio-8082-exec-9] Error 500 inesperado
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "price"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:226)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.svalero.Api_Library.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.svalero.Api_Library.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NumberFormatException: For input string: "price"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:709)
	at java.base/java.lang.Long.valueOf(Long.java:1157)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:204)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:870)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293)
	... 102 common frames omitted
2025-09-09 22:05:48,143 INFO c.s.A.c.BookController {getBooksWithPriceLessThan} [http-nio-8082-exec-7] Fetching books with price less than 20.5
2025-09-09 22:06:29,581 INFO c.s.A.c.BookController {getBooksByAvailable} [http-nio-8082-exec-6] Fetching books by availability: true
2025-09-09 22:07:39,969 INFO c.s.A.c.BookController {getBooksByAvailable} [http-nio-8082-exec-8] Fetching books by availability: true
2025-09-09 22:09:43,425 INFO c.s.A.c.BookController {getBooksByAvailable} [http-nio-8082-exec-4] Fetching books by availability: false
2025-09-09 22:12:12,616 WARN c.s.A.s.JwtAuthenticationFilter {doFilterInternal} [http-nio-8082-exec-5] Token inválido: JWT expired at 2025-09-09T16:32:52Z. Current time: 2025-09-09T20:12:12Z, a difference of 13160614 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-09-09 22:12:25,278 INFO c.s.A.c.AuthorController {getAllAuthors} [http-nio-8082-exec-6] BEGIN getAllAuthors
2025-09-09 22:12:25,281 INFO c.s.A.c.AuthorController {getAllAuthors} [http-nio-8082-exec-6] END getAllAuthors - Total authors fetched: 6
2025-09-09 22:12:40,377 WARN c.s.A.e.GlobalExceptionHandler {handleValidationErrors} [http-nio-8082-exec-3] Validación fallida: debe ser mayor que 0
2025-09-09 22:16:20,697 INFO c.s.A.c.BookController {updateBook} [http-nio-8082-exec-8] Updating book with ID: 4
2025-09-09 22:16:20,720 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] SQL Error: 23505, SQLState: 23505
2025-09-09 22:16:20,721 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"; SQL statement:
update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=? [23505-232]
2025-09-09 22:16:20,725 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-8] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"; SQL statement:
update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=? [23505-232]] [update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=?]; SQL [update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=?]; constraint [PUBLIC.CONSTRAINT_INDEX_5]
2025-09-09 22:17:48,045 INFO c.s.A.c.BookController {updateBook} [http-nio-8082-exec-1] Updating book with ID: 4
2025-09-09 22:17:48,048 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-1] SQL Error: 23505, SQLState: 23505
2025-09-09 22:17:48,049 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-1] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"; SQL statement:
update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=? [23505-232]
2025-09-09 22:17:48,050 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-1] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_5 ON PUBLIC.books(title NULLS FIRST) VALUES ( /* 67 */ 'La noche estrellada' )"; SQL statement:
update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=? [23505-232]] [update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=?]; SQL [update "books" set "author_id"=?,"available"=?,"category_id"=?,"genre"=?,"pages"=?,"price"=?,"title"=? where "id"=?]; constraint [PUBLIC.CONSTRAINT_INDEX_5]
2025-09-09 22:20:27,127 INFO c.s.A.c.BookController {updateBook} [http-nio-8082-exec-4] Updating book with ID: 4
2025-09-09 22:21:25,351 INFO c.s.A.c.BookController {updateBookPartial} [http-nio-8082-exec-7] Partially updating book with ID: 4
2025-09-09 22:22:05,299 INFO c.s.A.c.LoanController {getAllLoans} [http-nio-8082-exec-5] Fetching all loans
2025-09-09 22:24:22,445 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-3] Adding loan for customer: Tatiana
2025-09-09 22:26:41,378 WARN c.s.A.s.JwtAuthenticationFilter {doFilterInternal} [http-nio-8082-exec-1] Token inválido: JWT expired at 2025-09-09T16:32:52Z. Current time: 2025-09-09T20:26:41Z, a difference of 14029377 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-09-09 22:26:51,927 INFO c.s.A.c.UserController {getAllUsers} [http-nio-8082-exec-9] Fetching all users
2025-09-09 22:27:22,274 INFO c.s.A.c.LoanController {getByCustomerName} [http-nio-8082-exec-4] Fetching loans for customer: Isabel
2025-09-09 22:27:39,350 INFO c.s.A.c.UserController {getAllUsers} [http-nio-8082-exec-7] Fetching all users
2025-09-09 22:27:57,462 INFO c.s.A.c.LoanController {getByCustomerName} [http-nio-8082-exec-5] Fetching loans for customer: Tatiana
2025-09-09 22:28:24,090 INFO c.s.A.c.LoanController {getByLoanDate} [http-nio-8082-exec-6] Fetching loans for loan date: 2025-09-09
2025-09-09 22:29:06,107 INFO c.s.A.c.LoanController {getLoansBetweenDates} [http-nio-8082-exec-2] Fetching loans from 2025-01-01 to 2025-09-10
2025-09-09 22:29:38,835 ERROR c.s.A.e.GlobalExceptionHandler {handleGeneralException} [http-nio-8082-exec-3] Error 500 inesperado
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "quantity"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:301)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:136)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:226)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:180)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1088)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:978)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.svalero.Api_Library.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.svalero.Api_Library.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.NumberFormatException: For input string: "quantity"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Long.parseLong(Long.java:709)
	at java.base/java.lang.Long.valueOf(Long.java:1157)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:204)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:439)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:412)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:161)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:80)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:870)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.convertIfNecessary(AbstractNamedValueMethodArgumentResolver.java:293)
	... 102 common frames omitted
2025-09-09 22:32:34,262 INFO c.s.A.c.LoanController {getByQuantity} [http-nio-8082-exec-8] Fetching loans by exact quantity: 3
2025-09-09 22:32:42,685 INFO c.s.A.c.LoanController {getByQuantity} [http-nio-8082-exec-1] Fetching loans by exact quantity: 4
2025-09-09 22:32:47,829 INFO c.s.A.c.LoanController {getByQuantity} [http-nio-8082-exec-9] Fetching loans by exact quantity: 5
2025-09-09 22:32:54,126 INFO c.s.A.c.LoanController {getByQuantity} [http-nio-8082-exec-4] Fetching loans by exact quantity: 1
2025-09-09 22:35:14,664 INFO c.s.A.c.LoanController {getLoanById} [http-nio-8082-exec-6] Fetching loan by ID: 1
2025-09-09 22:44:56,784 INFO o.h.v.i.u.Version {<clinit>} [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-09-09 22:44:56,846 INFO o.s.b.StartupInfoLogger {logStarting} [main] Starting ApiLibraryApplication using Java 21.0.5 with PID 11860 (C:\Users\tatia\IdeaProjects\Api_Library\target\classes started by tatia in C:\Users\tatia\IdeaProjects\Api_Library)
2025-09-09 22:44:56,847 INFO o.s.b.SpringApplication {logStartupProfileInfo} [main] No active profile set, falling back to 1 default profile: "default"
2025-09-09 22:44:57,609 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-09 22:44:57,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Finished Spring Data repository scanning in 62 ms. Found 5 JPA repository interfaces.
2025-09-09 22:44:58,179 INFO o.s.b.w.e.t.TomcatWebServer {initialize} [main] Tomcat initialized with port 8082 (http)
2025-09-09 22:44:58,192 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-09-09 22:44:58,195 INFO o.a.j.l.DirectJDKLog {log} [main] Starting service [Tomcat]
2025-09-09 22:44:58,197 INFO o.a.j.l.DirectJDKLog {log} [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-09-09 22:44:58,252 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing Spring embedded WebApplicationContext
2025-09-09 22:44:58,253 INFO o.s.b.w.s.c.ServletWebServerApplicationContext {prepareWebApplicationContext} [main] Root WebApplicationContext: initialization completed in 1357 ms
2025-09-09 22:44:58,375 INFO o.h.j.i.u.LogHelper {logPersistenceUnitInformation} [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-09 22:44:58,423 INFO o.h.Version {logVersion} [main] HHH000412: Hibernate ORM core version 6.6.8.Final
2025-09-09 22:44:58,454 INFO o.h.c.i.RegionFactoryInitiator {initiateService} [main] HHH000026: Second-level cache disabled
2025-09-09 22:44:58,756 INFO o.s.o.j.p.SpringPersistenceUnitInfo {addTransformer} [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-09 22:44:58,787 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Starting...
2025-09-09 22:44:58,991 INFO c.z.h.p.HikariPool {checkFailFast} [main] HikariPool-1 - Added connection conn0: url=jdbc:h2:file:~/api_library.db user=SA
2025-09-09 22:44:58,993 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Start completed.
2025-09-09 22:44:59,016 WARN o.h.e.j.d.i.DialectFactoryImpl {constructDialect} [main] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-09 22:44:59,036 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator {initiateService} [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-09 22:44:59,984 INFO o.h.e.t.j.p.i.JtaPlatformInitiator {initiateService} [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-09 22:45:00,048 INFO o.s.o.j.AbstractEntityManagerFactoryBean {buildNativeEntityManagerFactory} [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-09 22:45:00,287 INFO o.s.d.j.r.q.QueryEnhancerFactory {<clinit>} [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-09 22:45:00,394 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer {configure} [main] Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-09-09 22:45:01,217 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration {openEntityManagerInViewInterceptor} [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-09 22:45:01,652 INFO o.s.b.a.h.H2ConsoleAutoConfiguration$H2ConsoleLogger {log} [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/api_library.db'
2025-09-09 22:45:01,718 INFO o.a.j.l.DirectJDKLog {log} [main] Starting ProtocolHandler ["http-nio-8082"]
2025-09-09 22:45:01,739 INFO o.s.b.w.e.t.TomcatWebServer {start} [main] Tomcat started on port 8082 (http) with context path '/'
2025-09-09 22:45:01,746 INFO o.s.b.StartupInfoLogger {logStarted} [main] Started ApiLibraryApplication in 5.471 seconds (process running for 5.844)
2025-09-09 22:47:14,046 INFO o.a.j.l.DirectJDKLog {log} [http-nio-8082-exec-4] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-09 22:47:14,046 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-4] Initializing Servlet 'dispatcherServlet'
2025-09-09 22:47:14,048 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-4] Completed initialization in 2 ms
2025-09-09 22:47:14,429 INFO c.s.A.c.LoanController {updateLoan} [http-nio-8082-exec-4] Updating loan ID: 1
2025-09-09 22:47:14,497 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-4] SQL Error: 23505, SQLState: 23505
2025-09-09 22:47:14,497 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-4] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"; SQL statement:
update "loans" set "book_id"=?,"customer_name"=?,"email"=?,"loan_date"=?,"name"=?,"quantity"=? where "id"=? [23505-232]
2025-09-09 22:47:14,509 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-4] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"; SQL statement:
update "loans" set "book_id"=?,"customer_name"=?,"email"=?,"loan_date"=?,"name"=?,"quantity"=? where "id"=? [23505-232]] [update "loans" set "book_id"=?,"customer_name"=?,"email"=?,"loan_date"=?,"name"=?,"quantity"=? where "id"=?]; SQL [update "loans" set "book_id"=?,"customer_name"=?,"email"=?,"loan_date"=?,"name"=?,"quantity"=? where "id"=?]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:47:47,536 INFO c.s.A.c.LoanController {updateLoan} [http-nio-8082-exec-2] Updating loan ID: 1
2025-09-09 22:49:20,779 INFO c.s.A.c.LoanController {getAllLoans} [http-nio-8082-exec-7] Fetching all loans
2025-09-09 22:49:42,996 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-8] Adding loan for customer: Tatiana
2025-09-09 22:49:43,004 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] SQL Error: 23505, SQLState: 23505
2025-09-09 22:49:43,004 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:49:43,009 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-8] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 33 */ 'Tatiana' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:50:24,807 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-10] Adding loan for customer: Isabel Mola
2025-09-09 22:50:24,810 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-10] SQL Error: 23505, SQLState: 23505
2025-09-09 22:50:24,811 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-10] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:50:24,812 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-10] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:50:45,455 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-4] Adding loan for customer: Isabel Mola
2025-09-09 22:50:45,456 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-4] SQL Error: 23505, SQLState: 23505
2025-09-09 22:50:45,457 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-4] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:50:45,458 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-4] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:54:58,077 INFO o.h.v.i.u.Version {<clinit>} [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-09-09 22:54:58,142 INFO o.s.b.StartupInfoLogger {logStarting} [main] Starting ApiLibraryApplication using Java 21.0.5 with PID 24520 (C:\Users\tatia\IdeaProjects\Api_Library\target\classes started by tatia in C:\Users\tatia\IdeaProjects\Api_Library)
2025-09-09 22:54:58,143 INFO o.s.b.SpringApplication {logStartupProfileInfo} [main] No active profile set, falling back to 1 default profile: "default"
2025-09-09 22:54:58,912 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-09 22:54:58,981 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2025-09-09 22:54:59,487 INFO o.s.b.w.e.t.TomcatWebServer {initialize} [main] Tomcat initialized with port 8082 (http)
2025-09-09 22:54:59,498 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-09-09 22:54:59,501 INFO o.a.j.l.DirectJDKLog {log} [main] Starting service [Tomcat]
2025-09-09 22:54:59,503 INFO o.a.j.l.DirectJDKLog {log} [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-09-09 22:54:59,595 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing Spring embedded WebApplicationContext
2025-09-09 22:54:59,596 INFO o.s.b.w.s.c.ServletWebServerApplicationContext {prepareWebApplicationContext} [main] Root WebApplicationContext: initialization completed in 1406 ms
2025-09-09 22:54:59,710 INFO o.h.j.i.u.LogHelper {logPersistenceUnitInformation} [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-09 22:54:59,758 INFO o.h.Version {logVersion} [main] HHH000412: Hibernate ORM core version 6.6.8.Final
2025-09-09 22:54:59,788 INFO o.h.c.i.RegionFactoryInitiator {initiateService} [main] HHH000026: Second-level cache disabled
2025-09-09 22:55:00,046 INFO o.s.o.j.p.SpringPersistenceUnitInfo {addTransformer} [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-09 22:55:00,074 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Starting...
2025-09-09 22:55:00,280 INFO c.z.h.p.HikariPool {checkFailFast} [main] HikariPool-1 - Added connection conn0: url=jdbc:h2:file:~/api_library.db user=SA
2025-09-09 22:55:00,282 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Start completed.
2025-09-09 22:55:00,306 WARN o.h.e.j.d.i.DialectFactoryImpl {constructDialect} [main] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-09 22:55:00,326 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator {initiateService} [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-09 22:55:01,296 INFO o.h.e.t.j.p.i.JtaPlatformInitiator {initiateService} [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-09 22:55:01,350 INFO o.s.o.j.AbstractEntityManagerFactoryBean {buildNativeEntityManagerFactory} [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-09 22:55:01,582 INFO o.s.d.j.r.q.QueryEnhancerFactory {<clinit>} [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-09 22:55:01,686 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer {configure} [main] Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-09-09 22:55:02,525 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration {openEntityManagerInViewInterceptor} [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-09 22:55:02,940 INFO o.s.b.a.h.H2ConsoleAutoConfiguration$H2ConsoleLogger {log} [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/api_library.db'
2025-09-09 22:55:03,003 INFO o.a.j.l.DirectJDKLog {log} [main] Starting ProtocolHandler ["http-nio-8082"]
2025-09-09 22:55:03,025 INFO o.s.b.w.e.t.TomcatWebServer {start} [main] Tomcat started on port 8082 (http) with context path '/'
2025-09-09 22:55:03,033 INFO o.s.b.StartupInfoLogger {logStarted} [main] Started ApiLibraryApplication in 5.468 seconds (process running for 5.834)
2025-09-09 22:55:45,457 INFO o.a.j.l.DirectJDKLog {log} [http-nio-8082-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-09 22:55:45,457 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-3] Initializing Servlet 'dispatcherServlet'
2025-09-09 22:55:45,459 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-3] Completed initialization in 2 ms
2025-09-09 22:55:45,808 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-3] Adding loan for customer: Isabel Mola
2025-09-09 22:55:45,849 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-3] SQL Error: 23505, SQLState: 23505
2025-09-09 22:55:45,851 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-3] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:55:45,861 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-3] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:56:01,652 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-2] Adding loan for customer: Isabel Mola
2025-09-09 22:56:01,654 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-2] SQL Error: 23505, SQLState: 23505
2025-09-09 22:56:01,654 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-2] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:56:01,655 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-2] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:56:53,826 INFO o.h.v.i.u.Version {<clinit>} [background-preinit] HV000001: Hibernate Validator 8.0.2.Final
2025-09-09 22:56:53,890 INFO o.s.b.StartupInfoLogger {logStarting} [main] Starting ApiLibraryApplication using Java 21.0.5 with PID 9128 (C:\Users\tatia\IdeaProjects\Api_Library\target\classes started by tatia in C:\Users\tatia\IdeaProjects\Api_Library)
2025-09-09 22:56:53,891 INFO o.s.b.SpringApplication {logStartupProfileInfo} [main] No active profile set, falling back to 1 default profile: "default"
2025-09-09 22:56:54,700 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-09 22:56:54,771 INFO o.s.d.r.c.RepositoryConfigurationDelegate {registerRepositoriesIn} [main] Finished Spring Data repository scanning in 61 ms. Found 5 JPA repository interfaces.
2025-09-09 22:56:55,285 INFO o.s.b.w.e.t.TomcatWebServer {initialize} [main] Tomcat initialized with port 8082 (http)
2025-09-09 22:56:55,298 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing ProtocolHandler ["http-nio-8082"]
2025-09-09 22:56:55,300 INFO o.a.j.l.DirectJDKLog {log} [main] Starting service [Tomcat]
2025-09-09 22:56:55,301 INFO o.a.j.l.DirectJDKLog {log} [main] Starting Servlet engine: [Apache Tomcat/10.1.36]
2025-09-09 22:56:55,359 INFO o.a.j.l.DirectJDKLog {log} [main] Initializing Spring embedded WebApplicationContext
2025-09-09 22:56:55,360 INFO o.s.b.w.s.c.ServletWebServerApplicationContext {prepareWebApplicationContext} [main] Root WebApplicationContext: initialization completed in 1423 ms
2025-09-09 22:56:55,493 INFO o.h.j.i.u.LogHelper {logPersistenceUnitInformation} [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-09 22:56:55,542 INFO o.h.Version {logVersion} [main] HHH000412: Hibernate ORM core version 6.6.8.Final
2025-09-09 22:56:55,573 INFO o.h.c.i.RegionFactoryInitiator {initiateService} [main] HHH000026: Second-level cache disabled
2025-09-09 22:56:55,829 INFO o.s.o.j.p.SpringPersistenceUnitInfo {addTransformer} [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-09 22:56:55,856 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Starting...
2025-09-09 22:56:56,055 INFO c.z.h.p.HikariPool {checkFailFast} [main] HikariPool-1 - Added connection conn0: url=jdbc:h2:file:~/api_library.db user=SA
2025-09-09 22:56:56,057 INFO c.z.h.HikariDataSource {getConnection} [main] HikariPool-1 - Start completed.
2025-09-09 22:56:56,078 WARN o.h.e.j.d.i.DialectFactoryImpl {constructDialect} [main] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-09 22:56:56,096 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator {initiateService} [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-09 22:56:57,045 INFO o.h.e.t.j.p.i.JtaPlatformInitiator {initiateService} [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-09 22:56:57,119 INFO o.s.o.j.AbstractEntityManagerFactoryBean {buildNativeEntityManagerFactory} [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-09 22:56:57,310 INFO o.s.d.j.r.q.QueryEnhancerFactory {<clinit>} [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-09 22:56:57,466 INFO o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer {configure} [main] Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-09-09 22:56:58,292 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration {openEntityManagerInViewInterceptor} [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-09 22:56:58,728 INFO o.s.b.a.h.H2ConsoleAutoConfiguration$H2ConsoleLogger {log} [main] H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/api_library.db'
2025-09-09 22:56:58,796 INFO o.a.j.l.DirectJDKLog {log} [main] Starting ProtocolHandler ["http-nio-8082"]
2025-09-09 22:56:58,820 INFO o.s.b.w.e.t.TomcatWebServer {start} [main] Tomcat started on port 8082 (http) with context path '/'
2025-09-09 22:56:58,826 INFO o.s.b.StartupInfoLogger {logStarted} [main] Started ApiLibraryApplication in 5.532 seconds (process running for 5.902)
2025-09-09 22:57:05,231 INFO o.a.j.l.DirectJDKLog {log} [http-nio-8082-exec-4] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-09 22:57:05,232 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-4] Initializing Servlet 'dispatcherServlet'
2025-09-09 22:57:05,233 INFO o.s.w.s.FrameworkServlet {initServletBean} [http-nio-8082-exec-4] Completed initialization in 1 ms
2025-09-09 22:57:05,730 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-4] Adding loan for customer: Isabel Mola
2025-09-09 22:57:05,773 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-4] SQL Error: 23505, SQLState: 23505
2025-09-09 22:57:05,774 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-4] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:57:05,786 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-4] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 22:57:17,442 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-8] Adding loan for customer: Isabel Mola
2025-09-09 22:57:17,444 WARN o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] SQL Error: 23505, SQLState: 23505
2025-09-09 22:57:17,444 ERROR o.h.e.j.s.SqlExceptionHelper {logExceptions} [http-nio-8082-exec-8] Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]
2025-09-09 22:57:17,446 WARN c.s.A.e.GlobalExceptionHandler {handleDataIntegrityViolation} [http-nio-8082-exec-8] Error de integridad en BD: could not execute statement [Violación de indice de Unicidad ó Clave primaria: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"
Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_6 ON PUBLIC.loans(customer_name NULLS FIRST) VALUES ( /* 1 */ 'Isabel Mola' )"; SQL statement:
insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default) [23505-232]] [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; SQL [insert into "loans" ("book_id","customer_name","email","loan_date","name","quantity","id") values (?,?,?,?,?,?,default)]; constraint [PUBLIC.CONSTRAINT_INDEX_6]
2025-09-09 23:04:31,071 INFO c.s.A.c.LoanController {getAllLoans} [http-nio-8082-exec-6] Fetching all loans
2025-09-09 23:05:13,709 INFO c.s.A.c.LoanController {addLoan} [http-nio-8082-exec-7] Adding loan for customer: Tatiana Alcubilla
2025-09-09 23:07:14,603 INFO c.s.A.c.LoanController {getAllLoans} [http-nio-8082-exec-9] Fetching all loans
2025-09-09 23:07:48,589 INFO c.s.A.c.LoanController {updateLoanPartial} [http-nio-8082-exec-1] Partially updating loan ID: 131
